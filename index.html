<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>IntersectionObserver API</title>

    <style>
        #targetElement {
            font-size: 32px;
            width: 200px;
            height: 200px;
            border: 1px solid #ccc;
            padding: 50px;
            box-sizing: border-box;
        }

        .background000 {
            background-color: orange;
        }

        .background050 {
            background-color: red;
        }

        .background075 {
            background-color: green;
        }

        .background100 {
            background-color: blue;
        }
    </style>
</head>

<body>
    <div class="container">
        <h2>
            IntersectionObserver is used to track if the box is visible to the user and based on how much it is visible
            it changes color i.e (0%, 50%,75%, 100% visible)
        </h2>
        <h2>Scroll down now to see it in action...</h2>
        <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores architecto
            nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
            distinctio, molestiae illo a?</p>
        <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores architecto
            nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
            distinctio, molestiae illo a?</p>
        <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores architecto
            nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
            distinctio, molestiae illo a?</p>
        <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores architecto
            nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
            distinctio, molestiae illo a?</p>
        <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores architecto
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores
                architecto
                nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
                distinctio, molestiae illo a?</p>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores
                architecto
                nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
                distinctio, molestiae illo a?</p>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores
                architecto
                nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
                distinctio, molestiae illo a?</p>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores
                architecto
                nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
                distinctio, molestiae illo a?</p>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores
                architecto
                nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
                distinctio, molestiae illo a?</p>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores
                architecto
                nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
                distinctio, molestiae illo a?</p>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores
                architecto
                nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
                distinctio, molestiae illo a?</p>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores
                architecto
                nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
                distinctio, molestiae illo a?</p>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores
                architecto
                nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
                distinctio, molestiae illo a?</p>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores
                architecto
                nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
                distinctio, molestiae illo a?</p>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores
                architecto
                nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
                distinctio, molestiae illo a?</p>
            <div id="targetElement">
                <p>BOX</p>
            </div>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores
                architecto
                nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
                distinctio, molestiae illo a?</p>
            <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Voluptates cumque a possimus, at maiores
                architecto
                nesciunt? Tenetur, voluptatibus perferendis provident quae, cum fugiat doloribus earum reprehenderit
                distinctio, molestiae illo a?</p>
    </div>


    <script>

        window.addEventListener('load', function () {
            const observer = new IntersectionObserver(function (entries) {
                console.log(entries);
                //box is visible, or one of specified theshold is met
                if (entries[0].intersectionRatio >= 1) {
                    entries[0].target.className = 'background000';
                } else if (entries[0].intersectionRatio >= 0.75) {
                    entries[0].target.className = 'background075';
                } else if (entries[0].intersectionRatio >= 0.5) {
                    entries[0].target.className = 'background050';
                } else if (entries[0].intersectionRatio >= 0) {
                    entries[0].target.className = 'background100';
                }
            }, {
                    //specifies how much % box is visible
                    "threshold": [0.0, 0.5, 0.75, 1.0]
                });


            observer.observe(document.getElementById('targetElement'));
        });

    </script>
</body>

</html>